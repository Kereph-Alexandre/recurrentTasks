<div *ngIf="task">
  <div *ngIf="this.isEditing; else notEditing">
    <label for="taskTitle">Title</label>
    <input type="text" name="taskTitle" [(ngModel)]="task.title" />

    <label for="taskDescription">Description</label>
    <textarea
      name="taskDescription"
      id=""
      [(ngModel)]="task.description"
    ></textarea>

    <span> Created on : {{ task.creationDate | date }} </span>

    <label for="taskRepeat">Execute every :</label>
    <input type="number" [(ngModel)]="task.repeatDelay" />

    <button (click)="confirmTaskEdit()">Done Editing</button>
  </div>

  <ng-template #notEditing>
    <h2>
      {{ task.title }}
    </h2>
    <p>
      {{ task.description }}
    </p>
    <p>
      <span> Created on : {{ task.creationDate | date }} </span>
      <span> Execute every {{ task.repeatDelay }} days</span>
      <span> Next due on : {{ task.execDate | date }} </span>
    </p>
    <button (click)="editTask()">Modify</button>
  </ng-template>

  <p>
    Status :
    {{ task.completed ? "Complete" : "To be done" }}
  </p>
  <button (click)="goBack()">Return</button>
  <button (click)="deleteTask()">Delete</button>
  <button (click)="completeTask()">
    {{ task.completed! ? "Not Done" : "Done" }}
  </button>
</div>
